{% extends 'base.html' %}
{% block content %}
    <h1>Weryfikacja biletu</h1>
 <div id="reader" style="width: 100%;"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html5-qrcode/2.3.8/html5-qrcode.min.js" integrity="sha512-r6rDA7W6ZeQhvl8S7yRVQUKVHdexq+GAlNkNNqVC7YyIV+NwqCTJe2hDWCiffTyRNOeGEzRRJ9ifvRm/HCzGYg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
    function onScanSuccess(decodedText, decodedResult) {
        // Przekieruj użytkownika na adres URL zawarty w QR kodzie
        window.location.href = decodedText;
    }

    function onScanFailure(error) {
        // Obsługa błędów - można dodać logikę, np. wyświetlanie komunikatu
    }

    let html5QrcodeScanner = new Html5QrcodeScanner(
        "reader", { fps: 10, qrbox: { width: 250, height: 250 } });
    html5QrcodeScanner.render(onScanSuccess, onScanFailure);
</script>
{% endblock %}

